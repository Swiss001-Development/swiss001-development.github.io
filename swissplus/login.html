<link href="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<script src="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>Login Form</title>
</head>

<body>
  <div style="visibility: hidden;" id="logged-in">
    <p><strong>Logged in as:</strong>
    </p>
    <div id="logged-in-list"></div>
  </div>

  <div id="login-form">
    <h3 class="text-center text-white pt-5">Login form</h3>
    <div class="container">
        <div id="login-row" class="row justify-content-center align-items-center">
            <div id="login-column" class="col-md-6">
                <div id="login-box" class="col-md-12">
                    <form id="login-form" class="form" action="" method="post">
                        <h3 class="text-center text-info">Login</h3>
                        <div class="form-group">
                            <label for="username" class="text-info">Username:</label><br>
                            <input type="text" name="username" id="username" class="form-control">
                        </div>
                        <div class="form-group">
                            <label for="password" class="text-info">Password:</label><br>
                            <input type="password" name="password" id="password" class="form-control">
                        </div>
                        <div class="form-group">
                            <input type="submit" name="submit" class="btn btn-info btn-md" value="submit">
                        </div>

                    </form>
                </div>
            </div>
        </div>
    </div>

  <script type="text/javascript" async=true>
    var loggedusers = [];

    var users = [{
    id: 1,
    username: 'Miguel_Mod_5989',
    password: 'poggers',
    type: 'user'
    }, {
    id: 2,
    username: 'test',
    password: 'poggers',
    type: 'admin'
    }, {
    id: 3,
    username: 'quin_hdev_4456',
    password: 'poggers',
    type: 'supplier'
    }];

    /**
     * null|Object getUserByProperty ( mixed key, mixed value [ , boolean strict = false, boolean multiple = false, boolean case_insensitive = false ] )
     *
     * Gets a user by a property key, value and various settings.
     *
     * @param mixed key Property key to look for.
     * @param mixed value Property value to look for.
     * @param boolean strict (optional) Should the comparison be type strict?
     * @param boolean multiple (optional) Should it return all results, rather than the first result?
     * @param boolean case_insensitive (optional) Should it ignore character case?
     *
     * @return null|Object Returns the user object, or null, if not found.
     */
    function getUserByProperty(key, value, strict, multiple, case_insensitive) {
    // prepare a result array
    var result = [];

    // loop through all of our users
    for (var index in users) {
        var user = users[index];

        // check if the user has the specified property
        if (typeof user[key] != 'undefined') {
        var compare = user[key];

        // doing something case insensitive
        if (case_insensitive) {
            // if the property value is a string
            if (typeof compare == 'string')
            compare = compare.toLowerCase();

            // if the specified value is a string
            if (typeof value == 'string')
            value = value.toLowerCase();
        }

        // if specified value is not defined, or values match
        if (typeof value == 'undefined' || ((strict && compare === value) || (!strict && compare == value))) {
            // if we want multiple results
            if (multiple) {
            result.push(user);
            } else {
            // otherwise we just return it
            return user;
            }
        }
        }
    }

    return multiple ? result : null;
    }

    /**
     * null|Object getUserById ( number id )
     *
     * Gets a user with the specified ID.
     *
     * @param number id ID of user to get.
     *
     * @return null|Object Returns the user object, or null, if not found.
     */
    function getUserById(id) {
    return getUserByProperty('id', id);
    }

    /**
     * null|Object getUserByUsername ( string username [ , boolean case_insensitive = false ] )
     *
     * Gets a user with the specified username.
     *
     * @param string username Username of user to get.
     * @param boolean case_insensitive Should character case be ignored?
     *
     * @return null|Object Returns the user object, or null, if not found.
     */
    function getUserByUsername(username, case_insensitive) {
    return getUserByProperty('username', username, false, false, case_insensitive);
    }

    /**
     * boolean|array getUsersByType ( string type [ , boolean case_insensitive = false ] )
     *
     * Gets all users with the specified type.
     *
     * @param string type Type of user to look for.
     * @param boolean case_insensitive Should character case be ignored?
     *
     * @return array Returns the an array of user objects.
     */
    function getUsersByType(type, case_insensitive) {
    return getUserByProperty('type', type, false, true, case_insensitive);
    }

    /**
     * boolean|Object login ( string username, string password )
     *
     * Provides the functionality to be able to log in on a user.
     *
     * @param string username Username of the user to log in on.
     * @param string password Password of the user to log in on.
     *
     * @return boolean|Object Returns the user object, or false, if login was not successful.
     */
    function login(username, password) {
    if (typeof username == 'string' && typeof password == 'string' && username.length > 0 && password.length > 0) {
        var loggeduser;

        for (var index in users) {
        var user = users[index];

        // check if username and password match
        if (username === user.username && password === user.password)
            loggeduser = user;
        }

        if (typeof loggeduser != 'undefined') {
        loggedusers[loggeduser.id] = true;

        updatelist();

        return loggeduser;
        }
    }

    return false;
    }

    /**
     * boolean logout ( number userid )
     *
     * Provides the functionality to be able to log out from a user.
     *
     * @param number userid ID of the user to log out of.
     *
     * @return boolean Returns a boolean representing whether the log out was successful or not.
     */
    function logout(userid) {
    if (loggedusers[userid]) {
        var temporary = [];

        for (var id in loggedusers)
        // ignore our user
        if (id != userid)
            temporary[id] = true;

        loggedusers = temporary;

        updatelist();

        return true;
    }

    return false;
    }

    /**
     * boolean updatelist ( void )
     *
     * Provides the functionality to update the #logged-in-list element
     * with the logged in users names and logout links.
     *
     * @return boolean Returns a boolean representing whether the update was successful or not.
     */
    function updatelist() {
    var list_element = document.getElementById('logged-in-list');

    // check the element exists 
    if (list_element) {
        var list_container_element = document.getElementById('logged-in');

        if (list_container_element)
        list_container_element.style.visibility = loggedusers.length === 0 ? 'hidden' : 'visible';

        while (list_element.firstChild)
        list_element.removeChild(list_element.firstChild);

        for (var id in loggedusers) {
        // get the user by ID
        var user = getUserById(id);

        // check if that user is a user
        if (user) {
            var p = document.createElement('P');
            p.innerText = user.username;
            var a = document.createElement('A');
            a.userid = id;
            a.href = '#';
            a.innerHTML = ' [Logout]';

            a.addEventListener('click', function(e) {
            e.preventDefault();

            logout(e.srcElement.userid);
            });

            p.appendChild(a);

            list_element.appendChild(p);
        }
        }

        return true;
    }

    return false;
    }

    document.getElementById('login-form').addEventListener('submit', function(e) {
    e.preventDefault();

    var username_element = e.srcElement.elements.username;
    var password_element = e.srcElement.elements.password;

    // check whether these elements return right stuff
    if (username_element && password_element) {
        username = username_element.value;
        password = password_element.value;

        var user = login(username, password);

        if (user !== false) {
        username_element.value = '';

        password_element.value = '';

        alert('Hello, ' + user.username + ' welcome to the SwissPlus Admin Console.');
        } else {
        password_element.value = '';

        alert('Invalid username and/or password.');
        }
    }
    });

  </script>
  <script></script>
</body>

</html>
